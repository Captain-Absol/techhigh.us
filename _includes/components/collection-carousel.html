{% comment %}
This component requires a collection parameter. 
@required: collection to render
@example_usage:
  
  {%- include components/collection-carousel.html collection="academics" -%}

{% endcomment %}
<div id="carousel-{{ include.collection }}" class="carousel slide carousel-{{ include.collection }} carousel-not-hero" data-bs-ride="carousel" data-bs-pause="true">
  {% assign slides = site.[include.collection] %}
  <div class="carousel-indicators">
    
    {% assign slideCount = 0 %}
    {% for slide in slides %}
      <button type="button" data-bs-target="#carousel-{{ include.collection }}" data-bs-slide-to="{{ slideCount }}" class="{% if forloop.index == 1 %} active{% endif %}" aria-current="true" aria-label="Slide {{ slideCount }}"></button>
      {% assign slideCount = slideCount | plus: 1 %}
    {% endfor %}
  </div>
  <div class="carousel-inner">
    {% assign slideCount = 0 %}
    {% for slide in slides %}
      <div class="carousel-item {% if forloop.index == 1 %} active{% endif %}" id="slide{{ slideCount }}">
        {% assign slideCount = slideCount | plus: 1 %}
        <img 
          src="{{ slide.featured_image }}"
          class="d-block w-100"
          alt="{{ slide.title }}">

        <div class="carousel-caption">
          <h3>{{ slide.title }}</h3>
          <a href="{{ slide.url }}" class="btn">Learn More</a>
        </div>
      </div>
    {% endfor %}
  </div>
  <button class="carousel-control-prev carousel-{{ include.collection }}" type="button" data-bs-target="#carousel-{{ include.collection }}" data-bs-slide="prev">
    <span class="carousel-control-prev-icon carousel-{{ include.collection }}" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next carousel-{{ include.collection }}" type="button" data-bs-target="#carousel-{{ include.collection }}" data-bs-slide="next">
    <span class="carousel-control-next-icon carousel-{{ include.collection }}" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>